# SwrContext重采样

在了解FFMPEG音频解码过程中，看到SwrContext重采样这个结构体，于是便详细了解下这个结构体相关的一些概念，记录下笔记。。。。

一、重采样
1)什么是重采样

##### 所谓的重采样，就是改变音频的采样率、sample format、声道数等参数，使之按照我们期望的参数输出。

2)为什么要重采样
为什么要重采样？当然是原有的音频参数不满足我们的需求，比如在FFMPEG解码音频的时候，不同的音源有不同的格式，采样率等，在解码后的数据中的这些参数也会不一致(最新FFMPEG 16 解码音频后，音频格式为AV_SAMPLE_FMT_FLTP，这个参数应该是一致的)，如果我们接下来需要使用解码后的音频数据做其他操作，而这些参数的不一致导致会有很多额外工作，此时直接对其进行重采样，获取我们制定的音频参数，这样就会方便很多。 
再比如在将音频进行SDL播放时候，因为当前的SDL2.0不支持planar格式，也不支持浮点型的，而最新的FFMPEG 16年会将音频解码为AV_SAMPLE_FMT_FLTP格式，因此此时就需要我们对其重采样，使之可以在SDL2.0上进行播放。

3)可调节的参数

通过重采样，我们可以对 sample rate(采样率)、sample format(采样格式)、channel layout(通道布局，可以通过此参数获取声道数)。